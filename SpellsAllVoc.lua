function myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ(c)
tab={}
for i = 1,#c do
x=string.len(c[i]) 
y=string.char(x)
table.insert(tab,y)
end
x=table.concat(tab)
return x
end 


setDefaultTab(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'************************************************************************************','***************************************************************************************************************','***************************************************************************************************************','************************************************************************************************************','*******************************************************************************************************************'}))
-- Protege tus macros si el name de el player al que le pasaste los macros no esta en la lista no podra usarlos,este script lo puedes obfuscar y asi no podran editarlo o pasarlo a otros player 

local allowedNames = {
  myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'********************************************************************************','***************************************************************************************************************','***********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','********************************','*****************************************************************','**************************************************************************************************','*********************************************************************************************************************','*******************************************************************************************************************','*****************************************************************************************************','****************************************************************************************************'}),
  myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'********************************************************************','*********************************************************************************************************','***************************************************************************************************************','*******************************************************************************************************************'}),
  myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'**************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************','*****************************************************************************************************','***************************************************'}),
}

if not table.find(allowedNames, name(), true) then
    --Made By VivoDibra
  return modules.game_textwindow.onGameEditText(0, 6279, 10000, name() ..myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'********************************************','********************************','************************************************************************************','*********************************************************************************************************************','********************************','**************************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************************','*********************************************************************************************************','*****************************************************************************************************','**************************************************************************************************************','*****************************************************************************************************','*******************************************************************************************************************','********************************','****************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************************','*********************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************','***************************************************************************************************************','********************************','*********************************************************************************************************************','*******************************************************************************************************************','*************************************************************************************************','******************************************************************************************************************','********************************','*****************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','***************************************************************************************************************','*******************************************************************************************************************','********************************','*******************************************************************************************************************','***************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','********************************************************************************************************************','*******************************************************************************************************************','**********************************************'}), myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','***************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','********************************************************************************************************************','*******************************************************************************************************************','********************************','*************************************************************************************','**************************************************************************************************************','****************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','**************************************************************************************************','***************************************************************************************************************','********************************************************************************************************************'}), myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({}))
end

modules.game_textmessage.displayGameMessage(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','***************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','********************************************************************************************************************','*******************************************************************************************************************','********************************','********************************************************************************','******************************************************************************************************************','***************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','*******************************************************************************************************','*********************************************************************************************************','****************************************************************************************************','***************************************************************************************************************','*******************************************************************************************************************','********************************','*******************************************************************','*************************************************************************************************','******************************************************************************************************************','*******************************************************************************************************','*************************************************************************************************','****************************************************************************************************','***************************************************************************************************************','*******************************************************************************************************************','**********************************************'}))

-- Magias Paladin
g_ui.loadUIFromString([[
ConfigWindow < MainWindow
  size: 150 200

  Label
    id: titleMagias
    text: SPELLS   PALADIN
    font: verdana-11px-rounded
    color: #a73ec1
    margin-top: -30
    anchors.top: parent.top
    anchors.horizontalCenter: parent.horizontalCenter

  Panel
    id: lista
    anchors.fill: parent
    anchors.bottom: closeButton.top
    layout:
      type: grid
      cell-size: 110 15
      cell-spacing: 2

  Button
    id: closeButton
    text: Close
    font: cipsoftFont
    anchors.right: parent.right
    anchors.bottom: parent.bottom
    size: 45 21
]])

local panelName = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','******************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************'})
if not storage[panelName] then
  storage[panelName] = {
    enabled = false,
  }
end

local config = storage[panelName]

local rootWidget = g_ui.getRootWidget()
local configWindow = UI.createWindow(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*******************************************************************','***************************************************************************************************************','**************************************************************************************************************','******************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************','*********************************************************************************************************','**************************************************************************************************************','****************************************************************************************************','***************************************************************************************************************','***********************************************************************************************************************'}), rootWidget)
configWindow:hide()

local listaMacros = {}

-- aqui van los macros

-- Antipk
local singleTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','***************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************'})
local multiTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','*******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************'})
local distance = 4
local amountOfMonsters = 3

local antipkrp = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************'}), function()
    local isSafe = true
    local specAmount = 0
    if not g_game.isAttacking() then
        return
    end
for i,mob in ipairs(getSpectators()) do
        if (getDistanceBetween(player:getPosition(), mob:getPosition()) <= distance and mob:isMonster()) then
            specAmount = specAmount + 1
        end
        if (mob:isPlayer() and (player:getName() ~= mob:getName()) and g_game.isAttacking (storage.Spell1)) then
            isSafe = false
        end
    end
    if (specAmount >= amountOfMonsters) and isSafe then
        say( multiTargetSpell )
    else
        say( singleTargetSpell )
    end
end)

-- mspell no antipk
local singleTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','***************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************'})
local multiTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','*******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************'})
local distance = 4
local amountOfMonsters = 3

local noantipkrp = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************','*******************************************************************************************************************','****************************************************************************************************************','*****************************************************************************************************','************************************************************************************************************','************************************************************************************************************'}), function()
    if not g_game.isAttacking() then
        return
    end

    local specAmount = 0

    for _, mob in ipairs(getSpectators()) do
        if mob:isMonster() and getDistanceBetween(player:getPosition(), mob:getPosition()) <= distance then
            specAmount = specAmount + 1
        end
    end

    if specAmount >= amountOfMonsters then
        say(multiTargetSpell)
    else
        say(singleTargetSpell)
    end
end)

local exoricon = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','***************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************'}), function()
    if g_game.isAttacking() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','***************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************'}))
    end
end)

local exorisan = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','*******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************'}), function()
    if g_game.isAttacking() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','*******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************'}))
    end
end)

local exevomasan = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','*******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************'}), function()
    if g_game.isAttacking() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','*******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************'}))
    end
end)

local UtitoTempoSan = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','********************************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','*************************************************************************************************************','****************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************'}), function()
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','********************************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','*************************************************************************************************************','****************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************'}))
    end)

local config = {
    distance = 2, -- Define la distancia maxima para contar monstruos
    spell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','********************************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','*************************************************************************************************************','****************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************'}) -- Define el hechizo a lanzar
}

local UtitoTempoPro = macro(300, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','********************************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','*************************************************************************************************************','****************************************************************************************************************','***************************************************************************************************************','********************************','****************************************************************************************************************','******************************************************************************************************************','***************************************************************************************************************'}), function()
    if hasPartyBuff() then return end

    local playerPosition = g_game.getLocalPlayer():getPosition()
    local monstersScreen = g_map.getSpectators(playerPosition, false) 
    local monsterCount = 0

    for _, creature in ipairs(monstersScreen) do
        if creature:isMonster() then
            local creaturePosition = creature:getPosition()
            local distance = math.max(math.abs(creaturePosition.x - playerPosition.x), 
                                      math.abs(creaturePosition.y - playerPosition.y))
            if distance <= config.distance then
                monsterCount = monsterCount + 1
            end
        end
    end

    if monsterCount >= 2 then
        say(config.spell)
    end
end, false)

-- aqui los agregas a la ventana 
table.insert(listaMacros, antipkrp)
table.insert(listaMacros, noantipkrp)
table.insert(listaMacros, exoricon)
table.insert(listaMacros, exorisan)
table.insert(listaMacros, exevomasan)
table.insert(listaMacros, UtitoTempoSan)
table.insert(listaMacros, UtitoTempoPro)

local checkboxes = {}

for _, mac in ipairs(listaMacros) do
    local checkbox = g_ui.createWidget(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*******************************************************************','********************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','***********************************************************************************************************','******************************************************************','***************************************************************************************************************','************************************************************************************************************************'}), configWindow.lista)
    checkbox:setText(mac.switch:getText())
    checkbox.onCheckChange = function(wid, isChecked)
        mac.setOn(isChecked)
    end
    checkbox:setChecked(mac.isOn())
    mac.switch:setVisible(false)
    table.insert(checkboxes, checkbox)
    
     -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','******************************************************************************************************************','****************************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','********************************','*******************************************************************************************************************','****************************************************************************************************************','*****************************************************************************************************','************************************************************************************************************','************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','***************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','********************************','*************************************************************************************************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','***************************************************','********************************','*************************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*****************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','*******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','********************************','*******************************************************************','*********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','****************************************************************************************************','***************************************************************************************************************','********************************','**************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************************','*************************************************************************************************','***************************************************************************************************','*************************************************************************************************','******************************************************************************************************************','********************************','********************************************************************************','***********************************************************************************************************','**********************************************'}))
    end  
     -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************','*********************************************************************************************************************','************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************','****************************************************************************************************************','*****************************************************************************************************','************************************************************************************************************','************************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************','*******************************************************************************************************************','****************************************************************************************************************','*****************************************************************************************************','************************************************************************************************************','************************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','********************************','*******************************************************************************************************************','****************************************************************************************************************','*****************************************************************************************************','************************************************************************************************************','************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','***************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','********************************','*************************************************************************************************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','***************************************************','********************************','*************************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*****************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','*******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','********************************************','********************************','******************************************************************************','***************************************************************************************************************','********************************','*****************************************************************************************************','*******************************************************************************************************************','********************************','*************************************************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','**********************************************'}))
   end
      -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','********************************************************************************************************************','***************************************************************************************************************','************************************************************************************','*****************************************************************************************************','*************************************************************************************************************','****************************************************************************************************************','***************************************************************************************************************','********************************************************************************','******************************************************************************************************************','***************************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','********************************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','*************************************************************************************************************','****************************************************************************************************************','***************************************************************************************************************','********************************','****************************************************************************************************************','******************************************************************************************************************','***************************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','********************************','*******************************************************************************************************************','****************************************************************************************************************','*****************************************************************************************************','************************************************************************************************************','************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*********************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','********************************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','*************************************************************************************************************','****************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','********************************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','**************************************************','********************************','*************************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','********************************','*****************************************************************************************************','**************************************************************************************************************','********************************','*********************************************************************************************************************','**************************************************************************************************************','********************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','**************************************************','*******************************************************************************************************************','*****************************************************************************************************************','*************************************************************************************************************','**********************************************'}))
    end
end

configWindow.closeButton.onClick = function(widget)
    configWindow:hide()
end

-- Boton para abrir la ventana
local openButton = UI.Button(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************','*************************************************************************************************','*******************************************************************************************************','*********************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','********************************************************************************','*************************************************************************************************','************************************************************************************************************','*************************************************************************************************','****************************************************************************************************','*********************************************************************************************************','**************************************************************************************************************'}), function()
    configWindow:show()
    configWindow:raise()
    configWindow:focus()
end)
openButton:setColor(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************','************************************************','************************************************','**********************************************************************','**********************************************************************','**********************************************************************','**********************************************************************'})) -- Color cian

-- Animacion de brillo para el titulo
local titleMagias = configWindow.titleMagias
local text = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','********************************************************************************','*********************************************************************','****************************************************************************','****************************************************************************','***********************************************************************************','********************************','********************************','********************************','********************************************************************************','*****************************************************************','****************************************************************************','*****************************************************************','********************************************************************','*************************************************************************','******************************************************************************'})
local glowPosition = 1
local glowDirection = 1

macro(50, function()
    local numChars = #text
    local glowRange = math.max(1, math.floor(numChars / 10)) 
    local coloredText = {}

    for i = 1, numChars do
        local char = text:sub(i, i)
        local color = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************','*************************************************************************************************','*******************************************************','***************************************************','*****************************************************************************************************','***************************************************************************************************','*************************************************'}) -- Color base
        if math.abs(i - glowPosition) <= glowRange then
            color = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************','****************************************************************************************************','******************************************************************************************************','**************************************************************************************************','*************************************************************************************************','*****************************************************************************************************','*********************************************************'}) -- Color de brillo
        end
        table.insert(coloredText, char)
        table.insert(coloredText, color)
    end

    glowPosition = glowPosition + glowDirection
    if glowPosition > numChars then
        glowPosition = numChars - 1
        glowDirection = -1
    elseif glowPosition < 1 then
        glowPosition = 2
        glowDirection = 1
    end

    titleMagias:setColoredText(coloredText)
end)
-- Magias Knight
g_ui.loadUIFromString([[
ConfigWindow < MainWindow
  size: 150 250

  Label
    id: titleMagias
    text: SPELLS   KNIGHT
    font: verdana-11px-rounded
    color: #a73ec1
    margin-top: -30
    anchors.top: parent.top
    anchors.horizontalCenter: parent.horizontalCenter

  Panel
    id: lista
    anchors.fill: parent
    anchors.bottom: closeButton.top
    layout:
      type: grid
      cell-size: 110 15
      cell-spacing: 2

  Button
    id: closeButton
    text: Close
    font: cipsoftFont
    anchors.right: parent.right
    anchors.bottom: parent.bottom
    size: 45 21
]])

local panelName = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','******************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************'})
if not storage[panelName] then
  storage[panelName] = {
    enabled = false,
  }
end

local config = storage[panelName]

local rootWidget = g_ui.getRootWidget()
local configWindow = UI.createWindow(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*******************************************************************','***************************************************************************************************************','**************************************************************************************************************','******************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************','*********************************************************************************************************','**************************************************************************************************************','****************************************************************************************************','***************************************************************************************************************','***********************************************************************************************************************'}), rootWidget)
configWindow:hide()

local listaMacros = {}

-- aqui van los macros

-- AntiPk Hur&Exori
local singleTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'})
local multiTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************'})
local distance =1
local amountOfMonsters = 2

local antipkexori = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','********************************','*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************'}), function()
    local isSafe = true
    local specAmount = 0
    if not g_game.isAttacking() then
        return
    end
for i,mob in ipairs(getSpectators()) do
        if (getDistanceBetween(player:getPosition(), mob:getPosition()) <= distance and mob:isMonster()) then
            specAmount = specAmount + 1
        end
        if (mob:isPlayer() and (player:getName() ~= mob:getName()) and g_game.isAttacking (storage.Spell1)) then
            isSafe = false
        end
    end
    if (specAmount >= amountOfMonsters) and isSafe then
        say( multiTargetSpell )
    else
        say( singleTargetSpell )
    end
end)

-- AntiPk Hur&Exgran
local singleTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'})
local multiTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************'})
local distance =1
local amountOfMonsters = 2

local antipkexgran = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','********************************','*********************************************************************','************************************************************************************************************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************'}), function()
    local isSafe = true
    local specAmount = 0
    if not g_game.isAttacking() then
        return
    end
for i,mob in ipairs(getSpectators()) do
        if (getDistanceBetween(player:getPosition(), mob:getPosition()) <= distance and mob:isMonster()) then
            specAmount = specAmount + 1
        end
        if (mob:isPlayer() and (player:getName() ~= mob:getName()) and g_game.isAttacking (storage.Spell1)) then
            isSafe = false
        end
    end
    if (specAmount >= amountOfMonsters) and isSafe then
        say( multiTargetSpell )
    else
        say( singleTargetSpell )
    end
end)

-- Mspell no antipk Hur&Exori
local singleTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'})
local multiTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************'})
local distance = 4
local amountOfMonsters = 2

local hurYexori = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'************************************************************************','*********************************************************************************************************************','******************************************************************************************************************','********************************','**************************************','********************************','*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************'}), function()
    if not g_game.isAttacking() then
        return
    end

    local specAmount = 0

    for _, mob in ipairs(getSpectators()) do
        if mob:isMonster() and getDistanceBetween(player:getPosition(), mob:getPosition()) <= distance then
            specAmount = specAmount + 1
        end
    end

    if specAmount >= amountOfMonsters then
        say(multiTargetSpell)
    else
        say(singleTargetSpell)
    end
end)

-- Mspell no antipk Hur&Exgran
local singleTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'})
local multiTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************'})
local distance = 4
local amountOfMonsters = 2

local hurYexgran = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'************************************************************************','*********************************************************************************************************************','******************************************************************************************************************','********************************','**************************************','********************************','*********************************************************************','************************************************************************************************************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************'}), function()
    if not g_game.isAttacking() then
        return
    end

    local specAmount = 0

    for _, mob in ipairs(getSpectators()) do
        if mob:isMonster() and getDistanceBetween(player:getPosition(), mob:getPosition()) <= distance then
            specAmount = specAmount + 1
        end
    end

    if specAmount >= amountOfMonsters then
        say(multiTargetSpell)
    else
        say(singleTargetSpell)
    end
end)

local exori = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************'}), function()
    if g_game.isAttacking() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************'}))
    end
end)

local exorihur = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'}), function()
    if g_game.isAttacking() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'}))
    end
end)

local exorigran = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************'}), function()
    if g_game.isAttacking() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************'}))
    end
end)

local exorimas = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','*****************************************************************************','*************************************************************************************************','*******************************************************************************************************************'}), function()
    if g_game.isAttacking() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************'}))
    end
end)

local UtitoTempo = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','********************************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','*************************************************************************************************************','****************************************************************************************************************','***************************************************************************************************************'}), function()
    if g_game.isAttacking() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','********************************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','*************************************************************************************************************','****************************************************************************************************************','***************************************************************************************************************'}))
    end
end)

local config = {
    distance = 2, -- Define la distancia maxima para contar monstruos
    spell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','********************************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','*************************************************************************************************************','****************************************************************************************************************','***************************************************************************************************************'}) -- Define el hechizo a lanzar
}

local UtitoTempoPro = macro(300, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','********************************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','*************************************************************************************************************','****************************************************************************************************************','***************************************************************************************************************','********************************','****************************************************************************************************************','******************************************************************************************************************','***************************************************************************************************************'}), function()
    if hasPartyBuff() then return end

    local playerPosition = g_game.getLocalPlayer():getPosition()
    local monstersScreen = g_map.getSpectators(playerPosition, false) 
    local monsterCount = 0

    for _, creature in ipairs(monstersScreen) do
        if creature:isMonster() then
            local creaturePosition = creature:getPosition()
            local distance = math.max(math.abs(creaturePosition.x - playerPosition.x), 
                                      math.abs(creaturePosition.y - playerPosition.y))
            if distance <= config.distance then
                monsterCount = monsterCount + 1
            end
        end
    end

    if monsterCount >= 2 then
        say(config.spell)
    end
end, false)

-- aqui los agregas a la ventana 
table.insert(listaMacros, antipkexori)
table.insert(listaMacros, antipkexgran)
table.insert(listaMacros, hurYexori)
table.insert(listaMacros, hurYexgran)
table.insert(listaMacros, exori)
table.insert(listaMacros, exorihur)
table.insert(listaMacros, exorigran)
table.insert(listaMacros, exorimas)
table.insert(listaMacros, UtitoTempo)
table.insert(listaMacros, UtitoTempoPro)

local checkboxes = {}

for _, mac in ipairs(listaMacros) do
    local checkbox = g_ui.createWidget(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*******************************************************************','********************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','***********************************************************************************************************','******************************************************************','***************************************************************************************************************','************************************************************************************************************************'}), configWindow.lista)
    checkbox:setText(mac.switch:getText())
    checkbox.onCheckChange = function(wid, isChecked)
        mac.setOn(isChecked)
    end
    checkbox:setChecked(mac.isOn())
    mac.switch:setVisible(false)
    table.insert(checkboxes, checkbox)
    
    -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','********************************','*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','********************************','*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','********************************','*******************************************************************************************************************','****************************************************************************************************************','*****************************************************************************************************','************************************************************************************************************','************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************','********************************','**************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','**************************************************','********************************','*************************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','*******************************************************************','*********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','****************************************************************************************************','***************************************************************************************************************','********************************','**************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************************','*************************************************************************************************','***************************************************************************************************','*************************************************************************************************','******************************************************************************************************************','********************************','********************************************************************************','***********************************************************************************************************','**********************************************'}))
    end   
     -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','********************************','*********************************************************************','************************************************************************************************************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','********************************','*********************************************************************','************************************************************************************************************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','********************************','*******************************************************************************************************************','****************************************************************************************************************','*****************************************************************************************************','************************************************************************************************************','************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************','********************************','**************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','**************************************************','********************************','*************************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','********************************','*******************************************************************','*********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','****************************************************************************************************','***************************************************************************************************************','********************************','**************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************************','*************************************************************************************************','***************************************************************************************************','*************************************************************************************************','******************************************************************************************************************','********************************','********************************************************************************','***********************************************************************************************************','**********************************************'}))
    end
 -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'************************************************************************','*********************************************************************************************************************','******************************************************************************************************************','**************************************','*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'************************************************************************','*********************************************************************************************************************','******************************************************************************************************************','********************************','**************************************','********************************','*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','********************************','*******************************************************************************************************************','****************************************************************************************************************','*****************************************************************************************************','************************************************************************************************************','************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************','********************************','**************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','**************************************************','********************************','*************************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','****************************************************************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*******************************************************************************************************************','********************************','*********************************************************************************************************','*******************************************************************************************************','*********************************************************************************************************************','*************************************************************************************************','************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','********************************','*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','**********************************************'}))
    end
    -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'************************************************************************','*********************************************************************************************************************','******************************************************************************************************************','**************************************','*********************************************************************','************************************************************************************************************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'************************************************************************','*********************************************************************************************************************','******************************************************************************************************************','********************************','**************************************','********************************','*********************************************************************','************************************************************************************************************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','********************************','*******************************************************************************************************************','****************************************************************************************************************','*****************************************************************************************************','************************************************************************************************************','************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************','********************************','**************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','**************************************************','********************************','*************************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','********************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','****************************************************************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*******************************************************************************************************************','********************************','*********************************************************************************************************','*******************************************************************************************************','*********************************************************************************************************************','*************************************************************************************************','************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','********************************','*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**********************************************'}))
    end
    -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','********************************************************************************************************************','***************************************************************************************************************','************************************************************************************','*****************************************************************************************************','*************************************************************************************************************','****************************************************************************************************************','***************************************************************************************************************','********************************************************************************','******************************************************************************************************************','***************************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','********************************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','*************************************************************************************************************','****************************************************************************************************************','***************************************************************************************************************','********************************','****************************************************************************************************************','******************************************************************************************************************','***************************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','********************************','*******************************************************************************************************************','****************************************************************************************************************','*****************************************************************************************************','************************************************************************************************************','************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','********************************','*********************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','********************************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','*************************************************************************************************************','****************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','**************************************************','********************************','***************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','*************************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','********************************','*****************************************************************************************************','**************************************************************************************************************','********************************','*********************************************************************************************************************','**************************************************************************************************************','********************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','**************************************************','*******************************************************************************************************************','*****************************************************************************************************************','*************************************************************************************************************','**********************************************'}))
    end
end

configWindow.closeButton.onClick = function(widget)
    configWindow:hide()
end

-- Boton para abrir la ventana
local openButton = UI.Button(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************','*************************************************************************************************','*******************************************************************************************************','*********************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','***************************************************************************','**************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','********************************************************************************************************','********************************************************************************************************************'}), function()
    configWindow:show()
    configWindow:raise()
    configWindow:focus()
end)
openButton:setColor(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************','************************************************','************************************************','**********************************************************************','**********************************************************************','**********************************************************************','**********************************************************************'})) -- Color cian

-- Animacion de brillo para el titulo
local titleMagias = configWindow.titleMagias
local text = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','********************************************************************************','*********************************************************************','****************************************************************************','****************************************************************************','***********************************************************************************','********************************','********************************','********************************','***************************************************************************','******************************************************************************','*************************************************************************','***********************************************************************','************************************************************************','************************************************************************************'})
local glowPosition = 1
local glowDirection = 1

macro(50, function()
    local numChars = #text
    local glowRange = math.max(1, math.floor(numChars / 10)) 
    local coloredText = {}

    for i = 1, numChars do
        local char = text:sub(i, i)
        local color = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************','*************************************************************************************************','*******************************************************','***************************************************','*****************************************************************************************************','***************************************************************************************************','*************************************************'}) -- Color base
        if math.abs(i - glowPosition) <= glowRange then
            color = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************','****************************************************************************************************','******************************************************************************************************','**************************************************************************************************','*************************************************************************************************','*****************************************************************************************************','*********************************************************'}) -- Color de brillo
        end
        table.insert(coloredText, char)
        table.insert(coloredText, color)
    end

    glowPosition = glowPosition + glowDirection
    if glowPosition > numChars then
        glowPosition = numChars - 1
        glowDirection = -1
    elseif glowPosition < 1 then
        glowPosition = 2
        glowDirection = 1
    end

    titleMagias:setColoredText(coloredText)
end)
-- Magias Sorcerer
g_ui.loadUIFromString([[
ConfigWindow < MainWindow
  size: 150 310

  Label
    id: titleMagias
    text: SPELLS   SORCERER
    font: verdana-11px-rounded
    color: #a73ec1
    margin-top: -30
    anchors.top: parent.top
    anchors.horizontalCenter: parent.horizontalCenter

  Panel
    id: lista
    anchors.fill: parent
    anchors.bottom: closeButton.top
    layout:
      type: grid
      cell-size: 110 15
      cell-spacing: 2

  Button
    id: closeButton
    text: Close
    font: cipsoftFont
    anchors.right: parent.right
    anchors.bottom: parent.bottom
    size: 45 21
]])

local panelName = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','******************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************'})
if not storage[panelName] then
  storage[panelName] = {
    enabled = false,
  }
end

local config = storage[panelName]

local rootWidget = g_ui.getRootWidget()
local configWindow = UI.createWindow(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*******************************************************************','***************************************************************************************************************','**************************************************************************************************************','******************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************','*********************************************************************************************************','**************************************************************************************************************','****************************************************************************************************','***************************************************************************************************************','***********************************************************************************************************************'}), rootWidget)
configWindow:hide()

local listaMacros = {}

-- Macros de hechizos

--- Antipk Mas vis
local idRune = 3155
local multiTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','**********************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************'})
local distance = 5
local amountOfMonsters = 3

local antipkvis = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','********************************','**************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************'}), function()
local isSafe = true
local specAmount = 0

if not g_game.isAttacking() then
    return
end

for i,mob in ipairs(getSpectators()) do
    if (getDistanceBetween(player:getPosition(), mob:getPosition()) <= distance and mob:isMonster()) then
        specAmount = specAmount + 1
    end
    if (mob:isPlayer() and (player:getName() ~= mob:getName()) and g_game.isAttacking(storage.Spell1)) then
        isSafe = false
    end
end

if (specAmount >= amountOfMonsters) and isSafe then
    say(multiTargetSpell)
else
    local attackingCreature = g_game.getAttackingCreature()
    if attackingCreature then
        g_game.useInventoryItemWith(idRune, attackingCreature)
    end
end
end)

--- Antipk Mas flam
local idRune = 3155
local multiTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','******************************************************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************'})
local distance = 5
local amountOfMonsters = 3

local antipkflam = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','********************************','**********************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************'}), function()
local isSafe = true
local specAmount = 0

if not g_game.isAttacking() then
    return
end

for i,mob in ipairs(getSpectators()) do
    if (getDistanceBetween(player:getPosition(), mob:getPosition()) <= distance and mob:isMonster()) then
        specAmount = specAmount + 1
    end
    if (mob:isPlayer() and (player:getName() ~= mob:getName()) and g_game.isAttacking(storage.Spell1)) then
        isSafe = false
    end
end

if (specAmount >= amountOfMonsters) and isSafe then
    say(multiTargetSpell)
else
    local attackingCreature = g_game.getAttackingCreature()
    if attackingCreature then
        g_game.useInventoryItemWith(idRune, attackingCreature)
    end
end
end)

-- mspell no antipk SD&Vis
local idRune = 3155
local multiTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','**********************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************'})
local distance = 5
local amountOfMonsters = 3

local sdYvis = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','********************************************************************','********************************','**************************************','********************************','**************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************'}), function()
    local specAmount = 0

    if not g_game.isAttacking() then
        return
    end

    for i, mob in ipairs(getSpectators()) do
        if (getDistanceBetween(player:getPosition(), mob:getPosition()) <= distance and mob:isMonster()) then
            specAmount = specAmount + 1
        end
    end

    if (specAmount >= amountOfMonsters) then
        say(multiTargetSpell)
    else
        local attackingCreature = g_game.getAttackingCreature()
        if attackingCreature then
            g_game.useInventoryItemWith(idRune, attackingCreature)
        end
    end
end)

-- Mspell no antipk SD&Flam
local idRune = 3155
local multiTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','******************************************************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************'})
local distance = 5
local amountOfMonsters = 3

local sdYflam = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','********************************************************************','********************************','**************************************','********************************','**********************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************'}), function()
    local specAmount = 0

    if not g_game.isAttacking() then
        return
    end

    for i, mob in ipairs(getSpectators()) do
        if (getDistanceBetween(player:getPosition(), mob:getPosition()) <= distance and mob:isMonster()) then
            specAmount = specAmount + 1
        end
    end

    if (specAmount >= amountOfMonsters) then
        say(multiTargetSpell)
    else
        local attackingCreature = g_game.getAttackingCreature()
        if attackingCreature then
            g_game.useInventoryItemWith(idRune, attackingCreature)
        end
    end
end)

--- Hold SD
local sd = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','********************************************************************','********************************','******************************************************************************************************************','*********************************************************************************************************************','**************************************************************************************************************','*****************************************************************************************************'}), function()
    if g_game.isAttacking() then
        usewith(3155, g_game.getAttackingCreature())
        delay(1000)
    end
end)

local aoe = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','*******************************************************************************','*********************************************************************','********************************','******************************************************************************************************************','*********************************************************************************************************************','**************************************************************************************************************','*****************************************************************************************************'}), function()  
    if g_game.isAttacking() then  
        local attackingCreature = g_game.getAttackingCreature()
        if attackingCreature and findItem(3161) then  -- Verifica si tienes la runa
            g_game.useInventoryItemWith(3161, attackingCreature)  
        end
    end  
end, false)

local gfr = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************','**********************************************************************','**********************************************************************************','********************************','******************************************************************************************************************','*********************************************************************************************************************','**************************************************************************************************************','*****************************************************************************************************'}), function()  
    if g_game.isAttacking() then  
        local attackingCreature = g_game.getAttackingCreature()
        if attackingCreature and findItem(3191) then  -- Verifica si tienes la runa
            g_game.useInventoryItemWith(3191, attackingCreature)  
        end
    end  
end, false)

local exorivis = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','**********************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************'}), function()
    if g_game.isAttacking() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','**********************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************'}))
    end
end)

local exoriflam = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','******************************************************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************'}), function()
    if g_game.isAttacking() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','******************************************************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************'}))
    end
end)

local exorimort = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','*************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','********************************************************************************************************************'}), function()
    if g_game.isAttacking() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','*************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','********************************************************************************************************************'}))
    end
end)

-- Exevo vis hur
local max_distance = 5 -- Distancia maxima permitida para lanzar el hechizo

local function turnToTarget()
    local enemy = target()
    if not enemy then return false end
    local pos = player:getPosition()
    local cpos = enemy:getPosition()

    if not pos or not cpos then return false end

    -- Verifica si el enemigo esta dentro de la distancia permitida
    if getDistanceBetween(pos, cpos) > max_distance then return false end

    local diffx = cpos.x - pos.x
    local diffy = cpos.y - pos.y
    local turned = false

    if diffx > 0 and diffy == 0 then turn(1) turned = true -- Derecha
    elseif diffx < 0 and diffy == 0 then turn(3) turned = true -- Izquierda
    elseif diffx == 0 and diffy > 0 then turn(2) turned = true -- Abajo
    elseif diffx == 0 and diffy < 0 then turn(0) turned = true -- Arriba
    end 

    if turned then delay(200) end -- Espera 200ms para asegurarse de que giró antes de lanzar el hechizo
    return turned
end

-- Macro para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','**********************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'}) con distancia maxima
local exevovishur = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','**********************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'}), function()
    if g_game.isAttacking() and turnToTarget() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','**********************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'}))
    end
end)

-- Exevo flam hur
local max_distance = 5 -- Distancia maxima permitida para lanzar el hechizo

local function turnToTarget()
    local enemy = target()
    if not enemy then return false end
    local pos = player:getPosition()
    local cpos = enemy:getPosition()

    if not pos or not cpos then return false end

    -- Verifica si el enemigo esta dentro de la distancia permitida
    if getDistanceBetween(pos, cpos) > max_distance then return false end

    local diffx = cpos.x - pos.x
    local diffy = cpos.y - pos.y
    local turned = false

    if diffx > 0 and diffy == 0 then turn(1) turned = true -- Derecha
    elseif diffx < 0 and diffy == 0 then turn(3) turned = true -- Izquierda
    elseif diffx == 0 and diffy > 0 then turn(2) turned = true -- Abajo
    elseif diffx == 0 and diffy < 0 then turn(0) turned = true -- Arriba
    end 

    if turned then delay(200) end -- Espera 200ms para asegurarse de que giró antes de lanzar el hechizo
    return turned
end

-- Macro para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','******************************************************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'}) con distancia maxima
local exevoflamhur = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','******************************************************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'}), function()
    if g_game.isAttacking() and turnToTarget() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','******************************************************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'}))
    end
end)

local masvis = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','**************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************'}), function()
    if g_game.isAttacking() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','**********************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************'}))
    end
end)

local masflam = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','******************************************************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************'}), function()
    if g_game.isAttacking() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','******************************************************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************'}))
    end
end)

-- Agregar macros a la lista
table.insert(listaMacros, antipkvis)
table.insert(listaMacros, antipkflam)
table.insert(listaMacros, sdYvis)
table.insert(listaMacros, sdYflam)
table.insert(listaMacros, sd)
table.insert(listaMacros, aoe)
table.insert(listaMacros, gfr)
table.insert(listaMacros, exorivis)
table.insert(listaMacros, exoriflam)
table.insert(listaMacros, exorimort)
table.insert(listaMacros, exevovishur)
table.insert(listaMacros, exevoflamhur)
table.insert(listaMacros, masvis)
table.insert(listaMacros, masflam)

checkboxes = {}

for _, mac in ipairs(listaMacros) do
    local checkbox = g_ui.createWidget(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*******************************************************************','********************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','***********************************************************************************************************','******************************************************************','***************************************************************************************************************','************************************************************************************************************************'}), configWindow.lista)
    checkbox:setText(mac.switch:getText())
    checkbox.onCheckChange = function(wid, isChecked)
        mac.setOn(isChecked)
    end
    checkbox:setChecked(mac.isOn())
    mac.switch:setVisible(false)
    table.insert(checkboxes, checkbox)
    
    -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','********************************','**************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','********************************','**************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','********************************','********************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','********************************************************************************************************','*********************************************************************************************************','**************************************************************************************************************************','***************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','***********************************************************************************','****************************************************************************************************','********************************','**************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','***************************************************','********************************','*************************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*****************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','**************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************','********************************','*******************************************************************','*********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','****************************************************************************************************','***************************************************************************************************************','********************************','**************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************************','*************************************************************************************************','***************************************************************************************************','*************************************************************************************************','******************************************************************************************************************','********************************','********************************************************************************','***********************************************************************************************************','**********************************************'}))
    end   
    -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','********************************','**********************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','********************************','**********************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','********************************','********************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','********************************************************************************************************','*********************************************************************************************************','**************************************************************************************************************************','***************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','***********************************************************************************','****************************************************************************************************','********************************','**************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','***************************************************','********************************','*************************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*****************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','**********************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************','********************************','*******************************************************************','*********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','****************************************************************************************************','***************************************************************************************************************','********************************','**************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************************','*************************************************************************************************','***************************************************************************************************','*************************************************************************************************','******************************************************************************************************************','********************************','********************************************************************************','***********************************************************************************************************','**********************************************'}))
    end
   -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','****************************************************************************************************','**************************************','**************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','********************************************************************','********************************','**************************************','********************************','**************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','********************************','********************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','********************************************************************************************************','*********************************************************************************************************','**************************************************************************************************************************','***************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','***********************************************************************************','****************************************************************************************************','********************************','**************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','***************************************************','********************************','*************************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*****************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','**************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************','********************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','****************************************************************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*******************************************************************************************************************','********************************','*********************************************************************************************************','*******************************************************************************************************','*********************************************************************************************************************','*************************************************************************************************','************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','********************************','*************************************************************************************','*****************************************************************************************************','**********************************************'}))
    end
     -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','****************************************************************************************************','**************************************','**********************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','********************************************************************','********************************','**************************************','********************************','**********************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','********************************','********************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','********************************************************************************************************','*********************************************************************************************************','**************************************************************************************************************************','***************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','***********************************************************************************','****************************************************************************************************','********************************','**************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','***************************************************','********************************','*************************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*****************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','**********************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************','********************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','****************************************************************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*******************************************************************************************************************','********************************','*********************************************************************************************************','*******************************************************************************************************','*********************************************************************************************************************','*************************************************************************************************','************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','********************************','*************************************************************************************','*****************************************************************************************************','**********************************************'}))
    end
       -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','**********************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','**********************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************','*********************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','***************************************************************************************************','*********************************************************************************************************','*************************************************************************************************','********************************','*****************************************************************************************************','************************************************************************************************************','********************************','*****************************************************************************************************','**************************************************************************************************************','*****************************************************************************************************','*************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************','********************************','*************************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','**************************************************************************************','*********************************************************************************************************','*******************************************************************************************************************','********************************','************************************************************************','*********************************************************************************************************************','******************************************************************************************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','*****************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','**************************************************************************************************************','********************************************************************************************************************','******************************************************************************************************************','***************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','************************************************************************************************************','********************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','*****************************************************','********************************','*******************************************************************************************************************','*****************************************************************************************************************','*************************************************************************************************************','********************************************','*****************************************************************************************************','**********************************************************************************************************************','*********************************************************************************************************','********************************************************************************************************************','*************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','******************************************************************************************************************','********************************','*****************************************************************************************************','************************************************************************************************************','********************************','*****************************************************************************************************','***************************************************************************************************','********************************************************************************************************','*********************************************************************************************************','**************************************************************************************************************************','***************************************************************************************************************','********************************','*****************************************************************************************************','**************************************************************************************************************','********************************','****************************************************************************************************','*********************************************************************************************************','******************************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','***************************************************************************************************','*********************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*****************************************************************************************************','*******************************************************************************************************************','********************************','*********************************************************************************************************','**************************************************************************************************************','***************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','******************************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','********************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','**********************************************','**********************************************'}))
    end
    -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','******************************************************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','******************************************************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************','*********************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','***************************************************************************************************','*********************************************************************************************************','*************************************************************************************************','********************************','*****************************************************************************************************','************************************************************************************************************','********************************','*****************************************************************************************************','**************************************************************************************************************','*****************************************************************************************************','*************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************','********************************','*************************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','**********************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************','********************************','************************************************************************','*********************************************************************************************************************','******************************************************************************************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','*****************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','**************************************************************************************************************','********************************************************************************************************************','******************************************************************************************************************','***************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','************************************************************************************************************','********************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','*****************************************************','********************************','*******************************************************************************************************************','*****************************************************************************************************************','*************************************************************************************************************','********************************************','*****************************************************************************************************','**********************************************************************************************************************','*********************************************************************************************************','********************************************************************************************************************','*************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','******************************************************************************************************************','********************************','*****************************************************************************************************','************************************************************************************************************','********************************','*****************************************************************************************************','***************************************************************************************************','********************************************************************************************************','*********************************************************************************************************','**************************************************************************************************************************','***************************************************************************************************************','********************************','*****************************************************************************************************','**************************************************************************************************************','********************************','****************************************************************************************************','*********************************************************************************************************','******************************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','***************************************************************************************************','*********************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*****************************************************************************************************','*******************************************************************************************************************','********************************','*********************************************************************************************************','**************************************************************************************************************','***************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','******************************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','********************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','**********************************************','**********************************************'}))
    end
  end

configWindow.closeButton.onClick = function(widget)
    configWindow:hide()
end

-- Botón para abrir la ventana
local openButton = UI.Button(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************','*************************************************************************************************','*******************************************************************************************************','*********************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','***********************************************************************************','***************************************************************************************************************','******************************************************************************************************************','***************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************'}), function()
    configWindow:show()
    configWindow:raise()
    configWindow:focus()
end)
openButton:setColor(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************','************************************************','************************************************','**********************************************************************','**********************************************************************','**********************************************************************','**********************************************************************'})) -- Color cian

-- Animación de brillo para el título
local titleMagias = configWindow.titleMagias
local text = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','********************************************************************************','*********************************************************************','****************************************************************************','****************************************************************************','***********************************************************************************','********************************','********************************','********************************','***********************************************************************************','*******************************************************************************','**********************************************************************************','*******************************************************************','*********************************************************************','**********************************************************************************','*********************************************************************','**********************************************************************************'})
local glowPosition = 1
local glowDirection = 1

macro(50, function()
    local numChars = #text
    local glowRange = math.max(1, math.floor(numChars / 10)) 
    local coloredText = {}

    for i = 1, numChars do
        local char = text:sub(i, i)
        local color = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************','*************************************************************************************************','*******************************************************','***************************************************','*****************************************************************************************************','***************************************************************************************************','*************************************************'}) -- Color base
        if math.abs(i - glowPosition) <= glowRange then
            color = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************','****************************************************************************************************','******************************************************************************************************','**************************************************************************************************','*************************************************************************************************','*****************************************************************************************************','*********************************************************'}) -- Color de brillo
        end
        table.insert(coloredText, char)
        table.insert(coloredText, color)
    end

    glowPosition = glowPosition + glowDirection
    if glowPosition > numChars then
        glowPosition = numChars - 1
        glowDirection = -1
    elseif glowPosition < 1 then
        glowPosition = 2
        glowDirection = 1
    end

    titleMagias:setColoredText(coloredText)
end)
-- Magias Druid
g_ui.loadUIFromString([[
ConfigWindow < MainWindow
  size: 150 310

  Label
    id: titleMagias
    text: SPELLS   DRUID
    font: verdana-11px-rounded
    color: #a73ec1
    margin-top: -30
    anchors.top: parent.top
    anchors.horizontalCenter: parent.horizontalCenter

  Panel
    id: lista
    anchors.fill: parent
    anchors.bottom: closeButton.top
    layout:
      type: grid
      cell-size: 110 15
      cell-spacing: 2

  Button
    id: closeButton
    text: Close
    font: cipsoftFont
    anchors.right: parent.right
    anchors.bottom: parent.bottom
    size: 45 21
]])

local panelName = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','******************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************'})
if not storage[panelName] then
  storage[panelName] = {
    enabled = false,
  }
end

local config = storage[panelName]

local rootWidget = g_ui.getRootWidget()
local configWindow = UI.createWindow(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*******************************************************************','***************************************************************************************************************','**************************************************************************************************************','******************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************','*********************************************************************************************************','**************************************************************************************************************','****************************************************************************************************','***************************************************************************************************************','***********************************************************************************************************************'}), rootWidget)
configWindow:hide()

local listaMacros = {}

-- Macros de hechizos

--- Antipk Mas frigo
local idRune = 3155
local multiTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','******************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************'})
local distance = 5
local amountOfMonsters = 3

local antipkfrigo = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','********************************','**********************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************'}), function()
local isSafe = true
local specAmount = 0

if not g_game.isAttacking() then
    return
end

for i,mob in ipairs(getSpectators()) do
    if (getDistanceBetween(player:getPosition(), mob:getPosition()) <= distance and mob:isMonster()) then
        specAmount = specAmount + 1
    end
    if (mob:isPlayer() and (player:getName() ~= mob:getName()) and g_game.isAttacking(storage.Spell1)) then
        isSafe = false
    end
end

if (specAmount >= amountOfMonsters) and isSafe then
    say(multiTargetSpell)
else
    local attackingCreature = g_game.getAttackingCreature()
    if attackingCreature then
        g_game.useInventoryItemWith(idRune, attackingCreature)
    end
end
end)

--- Antipk Mas tera
local idRune = 3155
local multiTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************'})
local distance = 5
local amountOfMonsters = 3

local antipktera = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','********************************','************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************'}), function()
local isSafe = true
local specAmount = 0

if not g_game.isAttacking() then
    return
end

for i,mob in ipairs(getSpectators()) do
    if (getDistanceBetween(player:getPosition(), mob:getPosition()) <= distance and mob:isMonster()) then
        specAmount = specAmount + 1
    end
    if (mob:isPlayer() and (player:getName() ~= mob:getName()) and g_game.isAttacking(storage.Spell1)) then
        isSafe = false
    end
end

if (specAmount >= amountOfMonsters) and isSafe then
    say(multiTargetSpell)
else
    local attackingCreature = g_game.getAttackingCreature()
    if attackingCreature then
        g_game.useInventoryItemWith(idRune, attackingCreature)
    end
end
end)

-- SD&Frigo
local idRune = 3155
local multiTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','******************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************'})
local distance = 5
local amountOfMonsters = 3

local sdYfrigo = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','********************************************************************','********************************','**************************************','********************************','**********************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************'}), function()
    local specAmount = 0

    if not g_game.isAttacking() then
        return
    end

    for i, mob in ipairs(getSpectators()) do
        if (getDistanceBetween(player:getPosition(), mob:getPosition()) <= distance and mob:isMonster()) then
            specAmount = specAmount + 1
        end
    end

    if (specAmount >= amountOfMonsters) then
        say(multiTargetSpell)
    else
        local attackingCreature = g_game.getAttackingCreature()
        if attackingCreature then
            g_game.useInventoryItemWith(idRune, attackingCreature)
        end
    end
end)

-- SD&Tera
local idRune = 3155
local multiTargetSpell = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************'})
local distance = 5
local amountOfMonsters = 3

local sdYtera = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','********************************************************************','********************************','**************************************','********************************','************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************'}), function()
    local specAmount = 0

    if not g_game.isAttacking() then
        return
    end

    for i, mob in ipairs(getSpectators()) do
        if (getDistanceBetween(player:getPosition(), mob:getPosition()) <= distance and mob:isMonster()) then
            specAmount = specAmount + 1
        end
    end

    if (specAmount >= amountOfMonsters) then
        say(multiTargetSpell)
    else
        local attackingCreature = g_game.getAttackingCreature()
        if attackingCreature then
            g_game.useInventoryItemWith(idRune, attackingCreature)
        end
    end
end)

--- Hold SD
local sd = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','********************************************************************','********************************','******************************************************************************************************************','*********************************************************************************************************************','**************************************************************************************************************','*****************************************************************************************************'}), function()
    if g_game.isAttacking() then
        usewith(3155, g_game.getAttackingCreature())
        delay(1000)
    end
end)

local aoe = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','*******************************************************************************','*********************************************************************','********************************','******************************************************************************************************************','*********************************************************************************************************************','**************************************************************************************************************','*****************************************************************************************************'}), function()  
    if g_game.isAttacking() then  
        local attackingCreature = g_game.getAttackingCreature()
        if attackingCreature and findItem(3161) then  -- Verifica si tienes la runa
            g_game.useInventoryItemWith(3161, attackingCreature)  
        end
    end  
end, false)

local gfr = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************','**********************************************************************','**********************************************************************************','********************************','******************************************************************************************************************','*********************************************************************************************************************','**************************************************************************************************************','*****************************************************************************************************'}), function()  
    if g_game.isAttacking() then  
        local attackingCreature = g_game.getAttackingCreature()
        if attackingCreature and findItem(3191) then  -- Verifica si tienes la runa
            g_game.useInventoryItemWith(3191, attackingCreature)  
        end
    end  
end, false)

local exorifrigo = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','******************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************'}), function()
    if g_game.isAttacking() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','******************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************'}))
    end
end)

local exoritera = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************'}), function()
    if g_game.isAttacking() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************'}))
    end
end)

-- Exevo frigo hur
local max_distance = 5 -- Distancia maxima permitida para lanzar el hechizo

local function turnToTarget()
    local enemy = target()
    if not enemy then return false end
    local pos = player:getPosition()
    local cpos = enemy:getPosition()

    if not pos or not cpos then return false end

    -- Verifica si el enemigo esta dentro de la distancia permitida
    if getDistanceBetween(pos, cpos) > max_distance then return false end

    local diffx = cpos.x - pos.x
    local diffy = cpos.y - pos.y
    local turned = false

    if diffx > 0 and diffy == 0 then turn(1) turned = true -- Derecha
    elseif diffx < 0 and diffy == 0 then turn(3) turned = true -- Izquierda
    elseif diffx == 0 and diffy > 0 then turn(2) turned = true -- Abajo
    elseif diffx == 0 and diffy < 0 then turn(0) turned = true -- Arriba
    end 

    if turned then delay(200) end -- Espera 200ms para asegurarse de que giró antes de lanzar el hechizo
    return turned
end

-- Macro para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','******************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'}) con distancia maxima
local exevofrigohur = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','******************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'}), function()
    if g_game.isAttacking() and turnToTarget() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','******************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'}))
    end
end)

-- Exevo tera hur
local max_distance = 5 -- Distancia maxima permitida para lanzar el hechizo

local function turnToTarget()
    local enemy = target()
    if not enemy then return false end
    local pos = player:getPosition()
    local cpos = enemy:getPosition()

    if not pos or not cpos then return false end

    -- Verifica si el enemigo esta dentro de la distancia permitida
    if getDistanceBetween(pos, cpos) > max_distance then return false end

    local diffx = cpos.x - pos.x
    local diffy = cpos.y - pos.y
    local turned = false

    if diffx > 0 and diffy == 0 then turn(1) turned = true -- Derecha
    elseif diffx < 0 and diffy == 0 then turn(3) turned = true -- Izquierda
    elseif diffx == 0 and diffy > 0 then turn(2) turned = true -- Abajo
    elseif diffx == 0 and diffy < 0 then turn(0) turned = true -- Arriba
    end 

    if turned then delay(200) end -- Espera 200ms para asegurarse de que giró antes de lanzar el hechizo
    return turned
end

-- Macro para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'}) con distancia maxima
local exevoterahur = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'}), function()
    if g_game.isAttacking() and turnToTarget() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'}))
    end
end)

local masfrigo = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','******************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************'}), function()
    if g_game.isAttacking() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','******************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************'}))
    end
end)

local mastera = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************'}), function()
    if g_game.isAttacking() then
        say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************'}))
    end
end)

local masres = macro(2000, myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','******************************************************************************************************************','*****************************************************************************************************','*******************************************************************************************************************'}), function()
say(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************************************','************************************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','********************************','*******************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','******************************************************************************************************************','*****************************************************************************************************','*******************************************************************************************************************'}))
end, false)

-- Agregar macros a la lista
table.insert(listaMacros, antipkfrigo)
table.insert(listaMacros, antipktera)
table.insert(listaMacros, sdYfrigo)
table.insert(listaMacros, sdYtera)
table.insert(listaMacros, sd)
table.insert(listaMacros, aoe)
table.insert(listaMacros, gfr)
table.insert(listaMacros, exorifrigo)
table.insert(listaMacros, exoritera)
table.insert(listaMacros, exevofrigohur)
table.insert(listaMacros, exevoterahur)
table.insert(listaMacros, masfrigo)
table.insert(listaMacros, mastera)
table.insert(listaMacros, masres)

checkboxes = {}

for _, mac in ipairs(listaMacros) do
    local checkbox = g_ui.createWidget(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*******************************************************************','********************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','***********************************************************************************************************','******************************************************************','***************************************************************************************************************','************************************************************************************************************************'}), configWindow.lista)
    checkbox:setText(mac.switch:getText())
    checkbox.onCheckChange = function(wid, isChecked)
        mac.setOn(isChecked)
    end
    checkbox:setChecked(mac.isOn())
    mac.switch:setVisible(false)
    table.insert(checkboxes, checkbox)
    
    -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','********************************','******************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','********************************','**********************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','********************************','********************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','********************************************************************************************************','*********************************************************************************************************','**************************************************************************************************************************','***************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','***********************************************************************************','****************************************************************************************************','********************************','**************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','***************************************************','********************************','*************************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*****************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','******************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************','*********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','****************************************************************************************************','***************************************************************************************************************','********************************','**************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************************','*************************************************************************************************','***************************************************************************************************','*************************************************************************************************','******************************************************************************************************************','********************************','****************************************************************************************************************','***********************************************************************************************************','**********************************************'}))
    end   
    -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************','**************************************************************************************************************','********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************************','***********************************************************************************************************','********************************','************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','********************************','********************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','********************************************************************************************************','*********************************************************************************************************','**************************************************************************************************************************','***************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','***********************************************************************************','****************************************************************************************************','********************************','**************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','***************************************************','********************************','*************************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*****************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','********************************','*******************************************************************','*********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','****************************************************************************************************','***************************************************************************************************************','********************************','**************************************************************************************************************','***************************************************************************************************************','********************************','*******************************************************************************************************************','*************************************************************************************************','***************************************************************************************************','*************************************************************************************************','******************************************************************************************************************','********************************','****************************************************************************************************************','***********************************************************************************************************','**********************************************'}))
    end
   -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','********************************************************************','**************************************','**********************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','********************************************************************','********************************','**************************************','********************************','**********************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','********************************','********************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','********************************************************************************************************','*********************************************************************************************************','**************************************************************************************************************************','***************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','***********************************************************************************','****************************************************************************************************','********************************','**************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','***************************************************','********************************','*************************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*****************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','******************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************','********************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','****************************************************************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*******************************************************************************************************************','********************************','*********************************************************************************************************','*******************************************************************************************************','*********************************************************************************************************************','*************************************************************************************************','************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','********************************','*************************************************************************************','*****************************************************************************************************','**********************************************'}))
    end
     -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','********************************************************************','**************************************','************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','********************************************************************','********************************','**************************************','********************************','************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','********************************','********************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','********************************************************************************************************','*********************************************************************************************************','**************************************************************************************************************************','***************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','***********************************************************************************','****************************************************************************************************','********************************','**************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','*************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','***************************************************','********************************','*************************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','*****************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','********************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','********************************','****************************************************************************************************************','************************************************************************************************************','*************************************************************************************************','*************************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*******************************************************************************************************************','********************************','*********************************************************************************************************','*******************************************************************************************************','*********************************************************************************************************************','*************************************************************************************************','************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','********************************','*************************************************************************************','*****************************************************************************************************','**********************************************'}))
    end
       -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','******************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','******************************************************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************','*********************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','***************************************************************************************************','*********************************************************************************************************','*************************************************************************************************','********************************','*****************************************************************************************************','************************************************************************************************************','********************************','*****************************************************************************************************','**************************************************************************************************************','*****************************************************************************************************','*************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************','********************************','*************************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','**********************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************','********************************','************************************************************************','*********************************************************************************************************************','******************************************************************************************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','*****************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','**************************************************************************************************************','********************************************************************************************************************','******************************************************************************************************************','***************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','************************************************************************************************************','********************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','*****************************************************','********************************','*******************************************************************************************************************','*****************************************************************************************************************','*************************************************************************************************************','********************************************','*****************************************************************************************************','**********************************************************************************************************************','*********************************************************************************************************','********************************************************************************************************************','*************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','******************************************************************************************************************','********************************','*****************************************************************************************************','************************************************************************************************************','********************************','*****************************************************************************************************','***************************************************************************************************','********************************************************************************************************','*********************************************************************************************************','**************************************************************************************************************************','***************************************************************************************************************','********************************','*****************************************************************************************************','**************************************************************************************************************','********************************','****************************************************************************************************','*********************************************************************************************************','******************************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','***************************************************************************************************','*********************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*****************************************************************************************************','*******************************************************************************************************************','********************************','*********************************************************************************************************','**************************************************************************************************************','***************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','******************************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','********************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','**********************************************','**********************************************'}))
    end
    -- Tooltip para myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'})
    if mac.switch:getText() == myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*********************************************************************','************************************************************************************************************************','*****************************************************************************************************','**********************************************************************************************************************','***************************************************************************************************************','********************************','********************************************************************************************************************','*****************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','********************************','********************************************************************************************************','*********************************************************************************************************************','******************************************************************************************************************'}) then
        checkbox:setTooltip(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************','*********************************************************************************************************','******************************************************************************************************************','*************************************************************************************************','********************************','********************************************************************************************************','*************************************************************************************************','***************************************************************************************************','*********************************************************************************************************','*************************************************************************************************','********************************','*****************************************************************************************************','************************************************************************************************************','********************************','*****************************************************************************************************','**************************************************************************************************************','*****************************************************************************************************','*************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************','********************************','*************************************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','********************************','**********************************************************************','******************************************************************************************************************','*********************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************','********************************','************************************************************************','*********************************************************************************************************************','******************************************************************************************************************','********************************','*******************************************************************************************************************','*********************************************************************************************************','********************************','*****************************************************************************************************','*******************************************************************************************************************','********************************************************************************************************************','*************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','**************************************************************************************************************','********************************************************************************************************************','******************************************************************************************************************','***************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','************************************************************************************************************','********************************','******************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','*******************************************************************************************************','***************************************************************************************************************','********************************','****************************************************************************************************','*****************************************************************************************************','********************************','*****************************************************','********************************','*******************************************************************************************************************','*****************************************************************************************************************','*************************************************************************************************************','********************************************','*****************************************************************************************************','**********************************************************************************************************************','*********************************************************************************************************','********************************************************************************************************************','*************************************************************************************************','********************************','************************************************************************************************************','*************************************************************************************************','**************************************************************************************************************','**************************************************************************************************************************','*************************************************************************************************','******************************************************************************************************************','********************************','*****************************************************************************************************','************************************************************************************************************','********************************','*****************************************************************************************************','***************************************************************************************************','********************************************************************************************************','*********************************************************************************************************','**************************************************************************************************************************','***************************************************************************************************************','********************************','*****************************************************************************************************','**************************************************************************************************************','********************************','****************************************************************************************************','*********************************************************************************************************','******************************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','***************************************************************************************************','*********************************************************************************************************','***************************************************************************************************************','**************************************************************************************************************','*****************************************************************************************************','*******************************************************************************************************************','********************************','*********************************************************************************************************','**************************************************************************************************************','***************************************************************************************************','***************************************************************************************************************','******************************************************************************************************************','******************************************************************************************************************','*****************************************************************************************************','***************************************************************************************************','********************************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','**********************************************','**********************************************'}))
    end
  end

configWindow.closeButton.onClick = function(widget)
    configWindow:hide()
end

-- Botón para abrir la ventana
local openButton = UI.Button(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'*****************************************************************************','*************************************************************************************************','*******************************************************************************************************','*********************************************************************************************************','*************************************************************************************************','*******************************************************************************************************************','********************************','********************************************************************','******************************************************************************************************************','*********************************************************************************************************************','*********************************************************************************************************','****************************************************************************************************'}), function()
    configWindow:show()
    configWindow:raise()
    configWindow:focus()
end)
openButton:setColor(myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************','************************************************','************************************************','**********************************************************************','**********************************************************************','**********************************************************************','**********************************************************************'})) -- Color cian

-- Animación de brillo para el título
local titleMagias = configWindow.titleMagias
local text = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************************************************************','********************************************************************************','*********************************************************************','****************************************************************************','****************************************************************************','***********************************************************************************','********************************','********************************','********************************','********************************************************************','**********************************************************************************','*************************************************************************************','*************************************************************************','********************************************************************'})
local glowPosition = 1
local glowDirection = 1

macro(50, function()
    local numChars = #text
    local glowRange = math.max(1, math.floor(numChars / 10)) 
    local coloredText = {}

    for i = 1, numChars do
        local char = text:sub(i, i)
        local color = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************','*************************************************************************************************','*******************************************************','***************************************************','*****************************************************************************************************','***************************************************************************************************','*************************************************'}) -- Color base
        if math.abs(i - glowPosition) <= glowRange then
            color = myBfvOIrrUcmPhWzMANUgebPwHHgvkRPIJ({'***********************************','****************************************************************************************************','******************************************************************************************************','**************************************************************************************************','*************************************************************************************************','*****************************************************************************************************','*********************************************************'}) -- Color de brillo
        end
        table.insert(coloredText, char)
        table.insert(coloredText, color)
    end

    glowPosition = glowPosition + glowDirection
    if glowPosition > numChars then
        glowPosition = numChars - 1
        glowDirection = -1
    elseif glowPosition < 1 then
        glowPosition = 2
        glowDirection = 1
    end

    titleMagias:setColoredText(coloredText)
end)    
